{"version":3,"sources":["template.js"],"names":["PolyfilledHTMLTemplateElement","QSA","node","selector","childNodes","length","nodeType","Node","DOCUMENT_NODE","docQuerySelectorAll","call","DOCUMENT_FRAGMENT_NODE","fragQuerySelectorAll","elementQuerySelectorAll","needsTemplate","HTMLTemplateElement","brokenDocFragment","document","createDocumentFragment","cloneNode","DocumentFragment","needsDocFrag","test","navigator","userAgent","insertBefore","newNode","refNode","child","firstChild","origInsertBefore","origCloneNode","prototype","Node.prototype.cloneNode","deep","newDom","__proto__","querySelectorAll","HTMLElement","querySelector","Object","defineProperties","get","configurable","origAppendChild","appendChild","Node.prototype.appendChild","origRemoveChild","removeChild","origReplaceChild","replaceChild","Node.prototype.replaceChild","newChild","oldChild","Document","Document.prototype.createDocumentFragment","frag","createElement","origImportNode","importNode","Document.prototype.importNode","impNode","capturedCloneNode","capturedCreateElement","capturedImportNode","capturedRemoveChild","capturedAppendChild","capturedReplaceChild","capturedParseFromString","DOMParser","parseFromString","capturedHTMLElementInnerHTML","getOwnPropertyDescriptor","window","innerHTML","set","text","capturedChildNodes","Element","needsCloning","t","t2","content","clone","contentDoc","implementation","createHTMLDocument","canDecorate","templateStyle","textContent","head","firstElementChild","create","canProtoPatch","hasOwnProperty","decorate","PolyfilledHTMLTemplateElement.decorate","template","namespaceURI","documentElement","template.cloneNode","_cloneNode","defineInnerHTML","defineOuterHTML","err","bootstrap","topLevelWrappingMap","obj","defineProperty","getInnerHTML","wrap","exec","toLowerCase","i","body","j","lastChild","parentNode","docFrag","ownerDocument","Error","PolyfilledHTMLTemplateElement.bootstrap","doc","templates","TEMPLATE_TAG","l","addEventListener","Document.prototype.createElement","el","apply","arguments","localName","DOMParser.prototype.parseFromString","enumerable","escapeAttrRegExp","escapeDataRegExp","escapeReplace","c","makeSet","arr","voidElements","plaintextParents","callback","s","c$","ELEMENT_NODE","tagName","attrs","attributes","attr","name","value","replace","TEXT_NODE","data","COMMENT_NODE","console","error","PolyfilledHTMLTemplateElement._cloneNode","fixClonedDom","source","s$","t$","dom","element","scripts","scriptSelector","ns","ai","a","setAttribute"],"mappings":"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","file":"template.min.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n// minimal template polyfill\n(function() {\n  'use strict';\n\n  var needsTemplate = (typeof HTMLTemplateElement === 'undefined');\n  var brokenDocFragment = !(document.createDocumentFragment().cloneNode() instanceof DocumentFragment);\n  var needsDocFrag = false;\n\n  // NOTE: Replace DocumentFragment to work around IE11 bug that\n  // causes children of a document fragment modified while\n  // there is a mutation observer to not have a parentNode, or\n  // have a broken parentNode (!?!)\n  if (/Trident/.test(navigator.userAgent)) {\n    (function() {\n\n      needsDocFrag = true;\n\n      var origCloneNode = Node.prototype.cloneNode;\n      Node.prototype.cloneNode = function cloneNode(deep) {\n        var newDom = origCloneNode.call(this, deep);\n        if (this instanceof DocumentFragment) {\n          newDom.__proto__ = DocumentFragment.prototype;\n        }\n        return newDom;\n      };\n\n      // IE's DocumentFragment querySelector code doesn't work when\n      // called on an element instance\n      DocumentFragment.prototype.querySelectorAll = HTMLElement.prototype.querySelectorAll;\n      DocumentFragment.prototype.querySelector = HTMLElement.prototype.querySelector;\n\n      Object.defineProperties(DocumentFragment.prototype, {\n        'nodeType': {\n          get: function () {\n            return Node.DOCUMENT_FRAGMENT_NODE;\n          },\n          configurable: true\n        },\n\n        'localName': {\n          get: function () {\n            return undefined;\n          },\n          configurable: true\n        },\n\n        'nodeName': {\n          get: function () {\n            return '#document-fragment';\n          },\n          configurable: true\n        }\n      });\n\n      var origInsertBefore = Node.prototype.insertBefore;\n      function insertBefore(newNode, refNode) {\n        if (newNode instanceof DocumentFragment) {\n          var child;\n          while ((child = newNode.firstChild)) {\n            origInsertBefore.call(this, child, refNode);\n          }\n        } else {\n          origInsertBefore.call(this, newNode, refNode);\n        }\n        return newNode;\n      }\n      Node.prototype.insertBefore = insertBefore;\n\n      var origAppendChild = Node.prototype.appendChild;\n      Node.prototype.appendChild = function appendChild(child) {\n        if (child instanceof DocumentFragment) {\n          insertBefore.call(this, child, null);\n        } else {\n          origAppendChild.call(this, child);\n        }\n        return child;\n      };\n\n      var origRemoveChild = Node.prototype.removeChild;\n      var origReplaceChild = Node.prototype.replaceChild;\n      Node.prototype.replaceChild = function replaceChild(newChild, oldChild) {\n        if (newChild instanceof DocumentFragment) {\n          insertBefore.call(this, newChild, oldChild);\n          origRemoveChild.call(this, oldChild);\n        } else {\n          origReplaceChild.call(this, newChild, oldChild);\n        }\n        return oldChild;\n      };\n\n      Document.prototype.createDocumentFragment = function createDocumentFragment() {\n        var frag = this.createElement('df');\n        frag.__proto__ = DocumentFragment.prototype;\n        return frag;\n      };\n\n      var origImportNode = Document.prototype.importNode;\n      Document.prototype.importNode = function importNode(impNode, deep) {\n        deep = deep || false;\n        var newNode = origImportNode.call(this, impNode, deep);\n        if (impNode instanceof DocumentFragment) {\n          newNode.__proto__ = DocumentFragment.prototype;\n        }\n        return newNode;\n      };\n    })();\n  }\n\n  // NOTE: we rely on this cloneNode not causing element upgrade.\n  // This means this polyfill must load before the CE polyfill and\n  // this would need to be re-worked if a browser supports native CE\n  // but not <template>.\n  var capturedCloneNode = Node.prototype.cloneNode;\n  var capturedCreateElement = Document.prototype.createElement;\n  var capturedImportNode = Document.prototype.importNode;\n  var capturedRemoveChild = Node.prototype.removeChild;\n  var capturedAppendChild = Node.prototype.appendChild;\n  var capturedReplaceChild = Node.prototype.replaceChild;\n  var capturedParseFromString = DOMParser.prototype.parseFromString;\n  var capturedHTMLElementInnerHTML = Object.getOwnPropertyDescriptor(window.HTMLElement.prototype, 'innerHTML') || {\n    /**\n     * @this {!HTMLElement}\n     * @return {string}\n     */\n    get: function() {\n      return this.innerHTML;\n    },\n    /**\n     * @this {!HTMLElement}\n     * @param {string}\n     */\n    set: function(text) {\n      this.innerHTML = text;\n    }\n  };\n  var capturedChildNodes = Object.getOwnPropertyDescriptor(window.Node.prototype, 'childNodes') || {\n    /**\n     * @this {!Node}\n     * @return {!NodeList}\n     */\n    get: function() {\n      return this.childNodes;\n    }\n  };\n\n  var elementQuerySelectorAll = Element.prototype.querySelectorAll;\n  var docQuerySelectorAll = Document.prototype.querySelectorAll;\n  var fragQuerySelectorAll = DocumentFragment.prototype.querySelectorAll;\n\n  var scriptSelector = 'script:not([type]),script[type=\"application/javascript\"],script[type=\"text/javascript\"]';\n\n  function QSA(node, selector) {\n    // IE 11 throws a SyntaxError with `scriptSelector` if the node has no children due to the `:not([type])` syntax\n    if (!node.childNodes.length) {\n      return [];\n    }\n    switch (node.nodeType) {\n      case Node.DOCUMENT_NODE:\n        return docQuerySelectorAll.call(node, selector);\n      case Node.DOCUMENT_FRAGMENT_NODE:\n        return fragQuerySelectorAll.call(node, selector);\n      default:\n        return elementQuerySelectorAll.call(node, selector);\n    }\n  }\n\n  // returns true if nested templates cannot be cloned (they cannot be on\n  // some impl's like Safari 8 and Edge)\n  // OR if cloning a document fragment does not result in a document fragment\n  var needsCloning = (function() {\n    if (!needsTemplate) {\n      var t = document.createElement('template');\n      var t2 = document.createElement('template');\n      t2.content.appendChild(document.createElement('div'));\n      t.content.appendChild(t2);\n      var clone = t.cloneNode(true);\n      return (clone.content.childNodes.length === 0 || clone.content.firstChild.content.childNodes.length === 0\n        || brokenDocFragment);\n    }\n  })();\n\n  var TEMPLATE_TAG = 'template';\n  var PolyfilledHTMLTemplateElement = function() {};\n\n  if (needsTemplate) {\n\n    var contentDoc = document.implementation.createHTMLDocument('template');\n    var canDecorate = true;\n\n    var templateStyle = document.createElement('style');\n    templateStyle.textContent = TEMPLATE_TAG + '{display:none;}';\n\n    var head = document.head;\n    head.insertBefore(templateStyle, head.firstElementChild);\n\n    /**\n      Provides a minimal shim for the <template> element.\n    */\n    PolyfilledHTMLTemplateElement.prototype = Object.create(HTMLElement.prototype);\n\n\n    // if elements do not have `innerHTML` on instances, then\n    // templates can be patched by swizzling their prototypes.\n    var canProtoPatch =\n      !(document.createElement('div').hasOwnProperty('innerHTML'));\n\n    /**\n      The `decorate` method moves element children to the template's `content`.\n      NOTE: there is no support for dynamically adding elements to templates.\n    */\n    PolyfilledHTMLTemplateElement.decorate = function(template) {\n      // if the template is decorated or not in HTML namespace, return fast\n      if (template.content ||\n          template.namespaceURI !== document.documentElement.namespaceURI) {\n        return;\n      }\n      template.content = contentDoc.createDocumentFragment();\n      var child;\n      while ((child = template.firstChild)) {\n        capturedAppendChild.call(template.content, child);\n      }\n      // NOTE: prefer prototype patching for performance and\n      // because on some browsers (IE11), re-defining `innerHTML`\n      // can result in intermittent errors.\n      if (canProtoPatch) {\n        template.__proto__ = PolyfilledHTMLTemplateElement.prototype;\n      } else {\n        template.cloneNode = function(deep) {\n          return PolyfilledHTMLTemplateElement._cloneNode(this, deep);\n        };\n        // add innerHTML to template, if possible\n        // Note: this throws on Safari 7\n        if (canDecorate) {\n          try {\n            defineInnerHTML(template);\n            defineOuterHTML(template);\n          } catch (err) {\n            canDecorate = false;\n          }\n        }\n      }\n      // bootstrap recursively\n      PolyfilledHTMLTemplateElement.bootstrap(template.content);\n    };\n\n    // Taken from https://github.com/jquery/jquery/blob/73d7e6259c63ac45f42c6593da8c2796c6ce9281/src/manipulation/wrapMap.js\n    var topLevelWrappingMap = {\n      'option': ['select'],\n      'thead': ['table'],\n      'col': ['colgroup', 'table'],\n      'tr': ['tbody', 'table'],\n      'th': ['tr', 'tbody', 'table'],\n      'td': ['tr', 'tbody', 'table']\n    };\n\n    var getTagName = function(text) {\n      // Taken from https://github.com/jquery/jquery/blob/73d7e6259c63ac45f42c6593da8c2796c6ce9281/src/manipulation/var/rtagName.js\n      return ( /<([a-z][^/\\0>\\x20\\t\\r\\n\\f]+)/i.exec(text) || ['', ''])[1].toLowerCase();\n    };\n\n    var defineInnerHTML = function defineInnerHTML(obj) {\n      Object.defineProperty(obj, 'innerHTML', {\n        get: function() {\n          return getInnerHTML(this);\n        },\n        set: function(text) {\n          // For IE11, wrap the text in the correct (table) context\n          var wrap = topLevelWrappingMap[getTagName(text)];\n          if (wrap) {\n            for (var i = 0; i < wrap.length; i++) {\n              text = '<' + wrap[i] + '>' + text + '</' + wrap[i] + '>';\n            }\n          }\n          contentDoc.body.innerHTML = text;\n          PolyfilledHTMLTemplateElement.bootstrap(contentDoc);\n          while (this.content.firstChild) {\n            capturedRemoveChild.call(this.content, this.content.firstChild);\n          }\n          var body = contentDoc.body;\n          // If we had wrapped, get back to the original node\n          if (wrap) {\n            for (var j = 0; j < wrap.length; j++) {\n              body = body.lastChild;\n            }\n          }\n          while (body.firstChild) {\n            capturedAppendChild.call(this.content, body.firstChild);\n          }\n        },\n        configurable: true\n      });\n    };\n\n    var defineOuterHTML = function defineOuterHTML(obj) {\n      Object.defineProperty(obj, 'outerHTML', {\n        get: function() {\n          return '<' + TEMPLATE_TAG + '>' + this.innerHTML + '</' + TEMPLATE_TAG + '>';\n        },\n        set: function(innerHTML) {\n          if (this.parentNode) {\n            contentDoc.body.innerHTML = innerHTML;\n            var docFrag = this.ownerDocument.createDocumentFragment();\n            while (contentDoc.body.firstChild) {\n              capturedAppendChild.call(docFrag, contentDoc.body.firstChild);\n            }\n            capturedReplaceChild.call(this.parentNode, docFrag, this);\n          } else {\n            throw new Error(\"Failed to set the 'outerHTML' property on 'Element': This element has no parent node.\");\n          }\n        },\n        configurable: true\n      });\n    };\n\n    defineInnerHTML(PolyfilledHTMLTemplateElement.prototype);\n    defineOuterHTML(PolyfilledHTMLTemplateElement.prototype);\n\n    /**\n      The `bootstrap` method is called automatically and \"fixes\" all\n      <template> elements in the document referenced by the `doc` argument.\n    */\n    PolyfilledHTMLTemplateElement.bootstrap = function bootstrap(doc) {\n      var templates = QSA(doc, TEMPLATE_TAG);\n      for (var i=0, l=templates.length, t; (i<l) && (t=templates[i]); i++) {\n        PolyfilledHTMLTemplateElement.decorate(t);\n      }\n    };\n\n    // auto-bootstrapping for main document\n    document.addEventListener('DOMContentLoaded', function() {\n      PolyfilledHTMLTemplateElement.bootstrap(document);\n    });\n\n    // Patch document.createElement to ensure newly created templates have content\n    Document.prototype.createElement = function createElement() {\n      var el = capturedCreateElement.apply(this, arguments);\n      if (el.localName === 'template') {\n        PolyfilledHTMLTemplateElement.decorate(el);\n      }\n      return el;\n    };\n\n    DOMParser.prototype.parseFromString = function() {\n      var el = capturedParseFromString.apply(this, arguments);\n      PolyfilledHTMLTemplateElement.bootstrap(el);\n      return el;\n    };\n\n    Object.defineProperty(HTMLElement.prototype, 'innerHTML', {\n      get: function() {\n        return getInnerHTML(this);\n      },\n      set: function(text) {\n        capturedHTMLElementInnerHTML.set.call(this, text);\n        PolyfilledHTMLTemplateElement.bootstrap(this);\n      },\n      configurable: true,\n      enumerable: true\n    });\n\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\n    var escapeAttrRegExp = /[&\\u00A0\"]/g;\n    var escapeDataRegExp = /[&\\u00A0<>]/g;\n\n    var escapeReplace = function(c) {\n      switch (c) {\n        case '&':\n          return '&amp;';\n        case '<':\n          return '&lt;';\n        case '>':\n          return '&gt;';\n        case '\"':\n          return '&quot;';\n        case '\\u00A0':\n          return '&nbsp;';\n      }\n    };\n\n    var escapeAttr = function(s) {\n      return s.replace(escapeAttrRegExp, escapeReplace);\n    };\n\n    var escapeData = function(s) {\n      return s.replace(escapeDataRegExp, escapeReplace);\n    };\n\n    var makeSet = function(arr) {\n      var set = {};\n      for (var i = 0; i < arr.length; i++) {\n        set[arr[i]] = true;\n      }\n      return set;\n    };\n\n    // http://www.whatwg.org/specs/web-apps/current-work/#void-elements\n    var voidElements = makeSet([\n      'area',\n      'base',\n      'br',\n      'col',\n      'command',\n      'embed',\n      'hr',\n      'img',\n      'input',\n      'keygen',\n      'link',\n      'meta',\n      'param',\n      'source',\n      'track',\n      'wbr'\n    ]);\n\n    var plaintextParents = makeSet([\n      'style',\n      'script',\n      'xmp',\n      'iframe',\n      'noembed',\n      'noframes',\n      'plaintext',\n      'noscript'\n    ]);\n\n    /**\n     * @param {Node} node\n     * @param {Node} parentNode\n     * @param {Function=} callback\n     */\n    var getOuterHTML = function(node, parentNode, callback) {\n      switch (node.nodeType) {\n        case Node.ELEMENT_NODE: {\n          var tagName = node.localName;\n          var s = '<' + tagName;\n          var attrs = node.attributes;\n          for (var i = 0, attr; (attr = attrs[i]); i++) {\n            s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n          }\n          s += '>';\n          if (voidElements[tagName]) {\n            return s;\n          }\n          return s + getInnerHTML(node, callback) + '</' + tagName + '>';\n        }\n        case Node.TEXT_NODE: {\n          var data = /** @type {Text} */ (node).data;\n          if (parentNode && plaintextParents[parentNode.localName]) {\n            return data;\n          }\n          return escapeData(data);\n        }\n        case Node.COMMENT_NODE: {\n          return '<!--' + /** @type {Comment} */ (node).data + '-->';\n        }\n        default: {\n          window.console.error(node);\n          throw new Error('not implemented');\n        }\n      }\n    };\n\n    /**\n     * @param {Node} node\n     * @param {Function=} callback\n     */\n    var getInnerHTML = function(node, callback) {\n      if (node.localName === 'template') {\n        node =  /** @type {HTMLTemplateElement} */ (node).content;\n      }\n      var s = '';\n      var c$ = callback ? callback(node) : capturedChildNodes.get.call(node);\n      for (var i=0, l=c$.length, child; (i<l) && (child=c$[i]); i++) {\n        s += getOuterHTML(child, node, callback);\n      }\n      return s;\n    };\n\n  }\n\n  // make cloning/importing work!\n  if (needsTemplate || needsCloning) {\n\n    PolyfilledHTMLTemplateElement._cloneNode = function _cloneNode(template, deep) {\n      var clone = capturedCloneNode.call(template, false);\n      // NOTE: decorate doesn't auto-fix children because they are already\n      // decorated so they need special clone fixup.\n      if (this.decorate) {\n        this.decorate(clone);\n      }\n      if (deep) {\n        // NOTE: use native clone node to make sure CE's wrapped\n        // cloneNode does not cause elements to upgrade.\n        capturedAppendChild.call(clone.content, capturedCloneNode.call(template.content, true));\n        // now ensure nested templates are cloned correctly.\n        fixClonedDom(clone.content, template.content);\n      }\n      return clone;\n    };\n\n    // Given a source and cloned subtree, find <template>'s in the cloned\n    // subtree and replace them with cloned <template>'s from source.\n    // We must do this because only the source templates have proper .content.\n    var fixClonedDom = function fixClonedDom(clone, source) {\n      // do nothing if cloned node is not an element\n      if (!source.querySelectorAll) return;\n      // these two lists should be coincident\n      var s$ = QSA(source, TEMPLATE_TAG);\n      if (s$.length === 0) {\n        return;\n      }\n      var t$ = QSA(clone, TEMPLATE_TAG);\n      for (var i=0, l=t$.length, t, s; i<l; i++) {\n        s = s$[i];\n        t = t$[i];\n        if (PolyfilledHTMLTemplateElement && PolyfilledHTMLTemplateElement.decorate) {\n          PolyfilledHTMLTemplateElement.decorate(s);\n        }\n        capturedReplaceChild.call(t.parentNode, cloneNode.call(s, true), t);\n      }\n    };\n\n    // make sure scripts inside of a cloned template are executable\n    var fixClonedScripts = function fixClonedScripts(fragment) {\n      var scripts = QSA(fragment, scriptSelector);\n      for (var ns, s, i = 0; i < scripts.length; i++) {\n        s = scripts[i];\n        ns = capturedCreateElement.call(document, 'script');\n        ns.textContent = s.textContent;\n        var attrs = s.attributes;\n        for (var ai = 0, a; ai < attrs.length; ai++) {\n          a = attrs[ai];\n          ns.setAttribute(a.name, a.value);\n        }\n        capturedReplaceChild.call(s.parentNode, ns, s);\n      }\n    };\n\n    // override all cloning to fix the cloned subtree to contain properly\n    // cloned templates.\n    var cloneNode = Node.prototype.cloneNode = function cloneNode(deep) {\n      var dom;\n      // workaround for Edge bug cloning documentFragments\n      // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8619646/\n      if (!needsDocFrag && brokenDocFragment && this instanceof DocumentFragment) {\n        if (!deep) {\n          return this.ownerDocument.createDocumentFragment();\n        } else {\n          dom = importNode.call(this.ownerDocument, this, true);\n        }\n      } else if (this.nodeType === Node.ELEMENT_NODE &&\n                 this.localName === TEMPLATE_TAG &&\n                 this.namespaceURI == document.documentElement.namespaceURI) {\n        dom = PolyfilledHTMLTemplateElement._cloneNode(this, deep);\n      } else {\n        dom = capturedCloneNode.call(this, deep);\n      }\n      // template.content is cloned iff `deep`.\n      if (deep) {\n        fixClonedDom(dom, this);\n      }\n      return dom;\n    };\n\n    // NOTE: we are cloning instead of importing <template>'s.\n    // However, the ownerDocument of the cloned template will be correct!\n    // This is because the native import node creates the right document owned\n    // subtree and `fixClonedDom` inserts cloned templates into this subtree,\n    // thus updating the owner doc.\n    var importNode = Document.prototype.importNode = function importNode(element, deep) {\n      deep = deep || false;\n      if (element.localName === TEMPLATE_TAG) {\n        return PolyfilledHTMLTemplateElement._cloneNode(element, deep);\n      } else {\n        var dom = capturedImportNode.call(this, element, deep);\n        if (deep) {\n          fixClonedDom(dom, element);\n          fixClonedScripts(dom);\n        }\n        return dom;\n      }\n    };\n  }\n\n  if (needsTemplate) {\n    window.HTMLTemplateElement = PolyfilledHTMLTemplateElement;\n  }\n\n})();\n"]}